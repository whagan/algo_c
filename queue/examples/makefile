QUEUE_DIR = ..


# ****************************************************************************
# *                                                                          *
# *  queue.mak                                                               *
# *  =========                                                               * 
# *                                                                          *
# ****************************************************************************

# ****************************************************************************
# *                                                                          *
# *  Define the name of the makefile.                                        *
# *                                                                          *
# ****************************************************************************

MAKNAM = makefile

# ****************************************************************************
# *                                                                          *
# *  Define the directories in which to search for library files.            *
# *                                                                          *
# ****************************************************************************

LIBDRS =

# ****************************************************************************
# *                                                                          *
# *  Define the directories in which to search for include files.            *
# *                                                                          *
# ****************************************************************************

INCDRS = -I$(QUEUE_DIR)/include

# ****************************************************************************
# *                                                                          *
# *  Define the directories in which to search for source files.             *
# *                                                                          *
# ****************************************************************************

SRCDRS = $(QUEUE_DIR)/source

# ****************************************************************************
# *                                                                          *
# *  Define the library files.                                               *
# *                                                                          *
# ****************************************************************************

LIBFLS =

# ****************************************************************************
# *                                                                          *
# *  Define the source files.                                                *
# *                                                                          *
# ****************************************************************************

SRCFLS = queue_driver.c\
         $(QUEUE_DIR)/source/list.c\
         $(QUEUE_DIR)/source/queue.c
         
# ****************************************************************************
# *                                                                          *
# *  Define the object files.                                                *
# *                                                                          *
# ****************************************************************************

OBJFLS = queue_driver.o\
         $(QUEUE_DIR)/source/list.o\
         $(QUEUE_DIR)/source/queue.o

# ****************************************************************************
# *                                                                          *
# *  Define the executable.                                                  *
# *                                                                          *
# ****************************************************************************

EXE    = queue

# ****************************************************************************
# *                                                                          *
# *  Define the compile and link options.                                    *
# *                                                                          *
# ****************************************************************************

CC     = gcc
LL     = gcc
CFLAGS =
LFLAGS =

# ****************************************************************************
# *                                                                          *
# *  Define the rules.                                                       *
# *                                                                          *
# ****************************************************************************

$(EXE): $(OBJFLS)
	$(LL) $(LFLAGS) -o $@ $(OBJFLS) $(LIBDRS) $(LIBFLS)

.c.o:
	$(CC) $(CFLAGS) -o $@ -c $(INCDRS) $<

all:
	make -f $(MAKNAM) clean
	make -f $(MAKNAM) depend

clean:
	-rm $(EXE)
	-rm $(OBJFLS)

ready:
	@sed -i -n "/^$$\|^#include\|^#endif\|_H$$\|*$$\|\/$$/p" ../source/queue.c
	@sed -i -n "/^$$\|^#include\|^#endif\|_H$$\|*$$\|\/$$/p" ../include/queue.h

# DO NOT DELETE THIS LINE -- make depend depends on it.